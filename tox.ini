[tox]
envlist = py36, py37, cover, flake8
sitepackages = False
recreate = True

[testenv]
basepython =
    py360: python3.60
    py370: python3.70
deps =
    pytest
    pytest-sugar
    six
commands =
    py.test \
        --junitxml={envlogdir}/junit-{envname}.xml \
        {posargs}

[testenv:cover]
deps =
    pytest
    pytest-sugar
    pytest-cov
    six
commands =
    pytest \
        --cov=junit_xml \
        --cov-report=term-missing \
        --cov-report=xml \
        --cov-report=html \
        {posargs}

[testenv:flake8]
deps =
    flake8-black
    pytest
    pytest-sugar
    pytest-flake8
    six
commands =
    pytest \
        --flake8 \
        {posargs}
